<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Incompatibilities with original Ada 2005</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    A.Bar:link {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    A.Bar:visited {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-bottom: 0.6em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">
<H1 Style='font-family: "Rockwell", "Times New Roman", Times, serif; font-size: 240%'><B><SPAN Style="color:rgb(0,0,153)">Rationale</SPAN> for <SPAN Style="color:rgb(0,153,51)">Ada 2012</SPAN></B></H1>
<DIV Class="Normal"><FONT SIZE="+1"><I><A HREF="Rat12-TTL.html">John Barnes</A></I></FONT></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="Rat12-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat12-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat12-0-3.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat12-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat12-9-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat12-9-2-2.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>9.2.1 Incompatibilities with original Ada 2005</H1>
<div class="Normal">There are a small number of incompatibilities between 
the original Ada 2005 and that resulting from various corrections.</div>
<div class="Normal">1 &mdash; The rules for full conformance have been 
strengthened; for example, null exclusions must now match. (<A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0046-1.TXT">AI-46</A>, 
<A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0134-1.TXT">AI-134</A>, 
<A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0207-1.TXT">AI-207</A>, 
<A HREF="http://www.ada-auth.org/standards/12rm/html/RM-6-3-1.html">6.3.1</A>)</div>
<div class="Normal">2 &mdash; When an inherited subprogram is implemented 
by a protected function, the first parameter has to be an <B>in</B> parameter, 
but not an access to variable type. Ada 2005 allowed access to variable 
parameters in this case; the parameter will need to be changed to access 
to constant by the addition of the <B>constant</B> keyword. (<A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0291-1.TXT">AI-291</A>, 
<A HREF="http://www.ada-auth.org/standards/12rm/html/RM-9-4.html">9.4</A>)</div>
<div class="Normal">3 &mdash; A missing rule is added that a limited 
with clause cannot name an ancestor unit. (<A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0040-1.TXT">AI-40</A>, 
<A HREF="http://www.ada-auth.org/standards/12rm/html/RM-10-1-2.html">10.1.2</A>)</div>
<div class="Normal">4 &mdash; Matching of formal access to subprogram 
types uses subtype conformance in Ada 2012 whereas it only used mode 
conformance in original Ada 2005. This change was necessary to avoid 
undefined behaviour in some situations. (<A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0288-1.TXT">AI-288</A>, 
<A HREF="http://www.ada-auth.org/standards/12rm/html/RM-12-5-4.html">12.5.4</A>)</div>
<div class="Normal">5 &mdash; An address attribute with a prefix of a 
subprogram with convention <SPAN Class="swiss">Intrinsic</SPAN> is now 
illegal. This is discussed in Section <A HREF="Rat12-6-6.html">6.6</A> 
of the chapter on Iterators, Pools etc. (<A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0095-1.TXT">AI-95</A>, 
<A HREF="http://www.ada-auth.org/standards/12rm/html/RM-13-3.html">13.3</A>)</div>
<div class="Normal">6 &mdash; Stream attributes must be specified by 
a static subprogram name rather than by a dynamic expression. (<A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0039-1.TXT">AI-39</A>, 
<A HREF="http://www.ada-auth.org/standards/12rm/html/RM-13-13-2.html">13.13.2</A>)</div>
<div class="Normal">7 &mdash; The use of discriminants on <SPAN Class="swiss">Unchecked_Union</SPAN> 
types is now illegal in record representation clauses. It makes no sense 
to specify the position of something that is not supposed to exist. (<A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0026-1.TXT">AI-26</A>, 
<A HREF="http://www.ada-auth.org/standards/12rm/html/RM-B-3-3.html">B.3.3</A>)</div>
<div class="Normal">8 &mdash; A nonvolatile generic formal derived type 
precludes a volatile actual type. (<A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0218-1.TXT">AI-218</A>, 
<A HREF="http://www.ada-auth.org/standards/12rm/html/RM-C-6.html">C.6</A>)</div>
<div class="Normal">9 &mdash; The restriction <SPAN Class="swiss">No_Relative_Delay</SPAN> 
has been extended to also prohibit a call of <SPAN Class="swiss">Timing_Events.Set_Handler</SPAN> 
with a <SPAN Class="swiss">Time_Span</SPAN> parameter.<A NAME="I1700"></A><A NAME="I1701"></A> 
(<A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0211-1.TXT">AI-211</A>, 
<A HREF="http://www.ada-auth.org/standards/12rm/html/RM-D-7.html">D.7</A>)</div>
<div class="Normal">10 &mdash; Various restrictions have been reworded 
to prevent the bypassing of the restriction by calling the forbidden 
subprogram via renames. (<A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0211-1.TXT">AI-211</A>, 
<A HREF="http://www.ada-auth.org/standards/12rm/html/RM-D-7.html">D.7</A>)</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="Rat12-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat12-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat12-0-3.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat12-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat12-9-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat12-9-2-2.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Class="Normal">&copy; 2011, 2012, 2013 John Barnes Informatics.</DIV>
<DIV Class="Normal">Sponsored in part by:</DIV>
<TABLE Summary="Sponsors" Width="800">
<TR><TD Width="250" Align="Center" VAlign="Top">
<SPAN Style="font-family: Arial, Helvetica, sans-serif; font-size: 92%">The <b><A HREF="http://www.adaic.org/community/">Ada Resource Association</A></b>:<BR><BR>
&nbsp;&nbsp;&nbsp; <A HREF="http://www.adaic.org"><IMG SRC="aralogo.gif" ALT="ARA" Height="120" Border="0"></A></SPAN>
</TD>
<TD Width="300" Align="Center" VAlign="Top">
<SPAN Style="font-family: Arial, Helvetica, sans-serif; font-size: 92%">&nbsp; <b><A HREF="http://www.adacore.com">AdaCore</A></b>:<BR><BR><BR>
&nbsp;&nbsp;&nbsp; <A HREF="http://www.adacore.com"><IMG SRC="adacore.gif" ALT="AdaCore" Height="80" Border="0"></A></SPAN>
</TD>
<TD Width="250" Align="Center" VAlign="Top">
<SPAN Style="font-family: Arial, Helvetica, sans-serif; font-size: 92%">and &nbsp; <b><A HREF="http://www.ada-europe.org">Ada-Europe</A></b>:<BR><BR>
<A HREF="http://www.ada-europe.org"><IMG SRC="AE_logo.gif" ALT="Ada-Europe" Height="128" Border="0"></A></SPAN>
</TD></TR>
</TABLE>
</BODY>
</HTML>
