<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>The Generic Package Containers.Bounded_Hashed_Sets</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Indented2 {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.2em; margin-bottom: 0.6em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    DIV.Bulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,0,153)"><B>Ada Reference Manual</B></SPAN> &mdash; <A HREF="RM-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-A-18-22.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-A-18-24.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>A.18.23 The Generic Package Containers.Bounded_Hashed_Sets</H1>
<div class="paranum"><a name="p1">1/3</a></div>
<div class="Normal">The language-defined generic package Containers.Bounded_Hashed_Sets 
provides a private type Set and a set of operations. It provides the 
same operations as the package Containers.Hashed_Sets (see <A HREF="RM-A-18-8.html">A.18.8</A>), 
with the difference that the maximum storage is bounded.</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p2">2/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em">The declaration of 
the generic library package Containers.Bounded_Hashed_Sets has the same 
contents and semantics as Containers.Hashed_Sets except:</div>
<div class="paranum"><a name="p3">3/3</a></div>
<div class="Bulleted">The <SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> 
Preelaborate is replaced with <SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> 
Pure.</div>
<div class="paranum"><a name="p4">4/3</a></div>
<div class="Bulleted" style="margin-bottom: 0.3em">The type Set is declared 
with discriminants that specify both the capacity (number of elements) 
and modulus (number of distinct hash values) of the hash table as follows: 
</div>
<div class="paranum"><a name="p5">5/3</a></div>
<div class="Examples">&nbsp;&nbsp;<B>type</B>&nbsp;Set&nbsp;(Capacity&nbsp;:&nbsp;Count_Type;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Modulus&nbsp;&nbsp;:&nbsp;Hash_Type)&nbsp;<B>is&nbsp;tagged&nbsp;private</B>;</div>
<div class="paranum"><a name="p6">6/3</a></div>
<div class="Bulleted">The type Set needs finalization if and only if 
type Element_Type needs finalization.</div>
<div class="paranum"><a name="p7">7/3</a></div>
<div class="Bulleted" style="margin-bottom: 0.3em">The description of 
Reserve_Capacity is replaced with:&nbsp;</div>
<div class="paranum"><a name="p8">8/3</a></div>
<div class="Indented2">If the specified Capacity is larger than the capacity 
of Container, then Reserve_Capacity propagates Capacity_Error. Otherwise, 
the operation has no effect.&nbsp;</div>
<div class="paranum"><a name="p9">9/3</a></div>
<div class="Bulleted" style="margin-bottom: 0.3em">An additional operation 
is added immediately following Reserve_Capacity:&nbsp;</div>
<div class="paranum"><a name="p10">10/3</a></div>
<div class="Examples">&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I7264"></A>Default_Modulus&nbsp;(Capacity&nbsp;:&nbsp;Count_Type)&nbsp;<B>return</B>&nbsp;Hash_Type;</div>
<div class="paranum"><a name="p11">11/3</a></div>
<div class="Indented2">Default_Modulus returns an implementation-defined 
value for the number of distinct hash values to be used for the given 
capacity (maximum number of elements).&nbsp;</div>
<div class="paranum"><a name="p12">12/3</a></div>
<div class="Bulleted" style="margin-bottom: 0.3em">The function Copy 
is replaced with:&nbsp;</div>
<div class="paranum"><a name="p13">13/3</a></div>
<div class="Examples">&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I7265"></A>Copy&nbsp;(Source&nbsp;&nbsp;&nbsp;:&nbsp;Set;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Capacity&nbsp;:&nbsp;Count_Type&nbsp;:=&nbsp;0;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Modulus&nbsp;&nbsp;:&nbsp;Hash_Type&nbsp;:=&nbsp;0)&nbsp;<B>return</B>&nbsp;Set;</div>
<div class="paranum"><a name="p14">14/3</a></div>
<div class="Indented2">Returns a set whose elements are initialized from 
the values in Source. If Capacity is 0, then the set capacity is the 
length of Source; if Capacity is equal to or greater than the length 
of Source, the set capacity is the value of the Capacity parameter; otherwise, 
the operation propagates Capacity_Error. If the Modulus argument is 0, 
then the set modulus is the value returned by a call to Default_Modulus 
with the set capacity as its argument; otherwise, the set modulus is 
the value of the Modulus parameter.&nbsp;</div>

<H4 Class="centered">Bounded (Run-Time) Errors</H4>
<div class="paranum"><a name="p15">15/3</a></div>
<div class="Normal">&nbsp;<A NAME="I7266"></A>It is a bounded error to assign 
from a bounded set object while tampering with elements or cursors of 
that object is prohibited. Either Program_Error is raised by the assignment, 
execution proceeds with the target object prohibiting tampering with 
elements or cursors, or execution proceeds normally.&nbsp;</div>

<H4 Class="centered">Erroneous Execution</H4>
<div class="paranum"><a name="p16">16/3</a></div>
<div class="Normal">&nbsp;When a bounded set object <I>S</I> is finalized, 
if tampering with cursors is prohibited for <I>S</I> other than due to 
an assignment from another set, then execution is erroneous. <A NAME="I7267"></A></div>

<H4 Class="centered">Implementation Requirements</H4>
<div class="paranum"><a name="p17">17/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em">&nbsp;For each instance 
of Containers.Hashed_Sets and each instance of Containers.Bounded_Hashed_Sets, 
if the two instances meet the following conditions, then the output generated 
by the Set'Output or Set'Write subprograms of either instance shall be 
readable by the Set'Input or Set'Read of the other instance, respectively:</div>
<div class="paranum"><a name="p18">18/3</a></div>
<div class="Bulleted">the Element_Type parameters of the two instances 
are statically matching subtypes of the same type; and</div>
<div class="paranum"><a name="p19">19/3</a></div>
<div class="Bulleted">the output generated by Element_Type'Output or 
Element_Type'Write is readable by Element_Type'Input or Element_Type'Read, 
respectively (where Element_Type denotes the type of the two actual Element_Type 
parameters).&nbsp;</div>

<H4 Class="centered">Implementation Advice</H4>
<div class="paranum"><a name="p20">20/3</a></div>
<div class="Normal">&nbsp;Bounded hashed set objects should be implemented 
without implicit pointers or dynamic allocation.&nbsp;</div>
<div class="paranum"><a name="p21">21/3</a></div>
<div class="Normal">&nbsp;The implementation advice for procedure Move to 
minimize copying does not apply.&nbsp;</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-A-18-22.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-A-18-24.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
