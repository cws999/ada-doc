<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Subprogram Renaming Declarations</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Indented1 {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.6em}
    DIV.WideAbove {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-top: 0.6em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    DIV.Bulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,0,153)"><B>Ada Reference Manual</B></SPAN> &mdash; <A HREF="RM-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-8-5-3.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-8-5-5.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>8.5.4 Subprogram Renaming Declarations</H1>
<div class="paranum"><a name="p1">1/3</a></div>
<div class="Normal">A <SPAN Class="swiss"><A HREF="RM-8-5-4.html#S0203">subprogram_renaming_declaration</A></SPAN> 
can serve as the completion of a <SPAN Class="swiss"><A HREF="RM-6-1.html#S0163">subprogram_declaration</A></SPAN>; 
<A NAME="I3800"></A>such a <SPAN Class="swiss"><A HREF="RM-8-5.html#S0199">renaming_declaration</A></SPAN> 
is called a <I>renaming-as-body</I>. <A NAME="I3801"></A>A <SPAN Class="swiss"><A HREF="RM-8-5-4.html#S0203">subprogram_renaming_declaration</A></SPAN> 
that is not a completion is called a <I>renaming-as-declaration</I>, 
and is used to rename a subprogram (possibly an enumeration literal) 
or an entry.&nbsp;</div>

<H4 Class="centered">Syntax</H4>
<div class="paranum"><a name="p2">2/3</a></div>
<div class="Indented1"><SPAN Class="swiss">subprogram_renaming_declaration</SPAN><A NAME="I3802"></A><A NAME="S0203"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;[<A NAME="I3803"></A><SPAN Class="swiss"><A HREF="RM-8-3-1.html#S0195">overriding_indicator</A></SPAN>]<BR>
&nbsp;&nbsp;&nbsp;&nbsp;<A NAME="I3804"></A><SPAN Class="swiss"><A HREF="RM-6-1.html#S0164">subprogram_specification</A></SPAN>&nbsp;<B>renames</B>&nbsp;<I>callable_entity_</I><A NAME="I3805"></A><SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<A NAME="I3806"></A><SPAN Class="swiss"><A HREF="RM-13-1-1.html#S0306">aspect_specification</A></SPAN>];</div>

<H4 Class="centered">Name Resolution Rules</H4>
<div class="paranum"><a name="p3">3</a></div>
<div class="Normal"><A NAME="I3807"></A>The expected profile for the 
<I>callable_entity_</I><SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN> 
is the profile given in the <SPAN Class="swiss"><A HREF="RM-6-1.html#S0164">subprogram_specification</A></SPAN>. 
</div>

<H4 Class="centered">Legality Rules</H4>
<div class="paranum"><a name="p4">4/3</a></div>
<div class="Normal">The profile of a renaming-as-declaration shall be 
mode conformant, with that of the renamed callable entity. <A NAME="I3808"></A></div>
<div class="paranum"><a name="p4.1">4.1/2</a></div>
<div class="Normal" style="margin-bottom: 0.4em">&nbsp;&nbsp;For a parameter or 
result subtype of the <SPAN Class="swiss"><A HREF="RM-6-1.html#S0164">subprogram_specification</A></SPAN> 
that has an explicit <SPAN Class="swiss"><A HREF="RM-3-10.html#S0083">null_exclusion</A></SPAN>:</div>
<div class="paranum"><a name="p4.2">4.2/2</a></div>
<div class="Bulleted">if the <I>callable_entity_</I><SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN> 
denotes a generic formal subprogram of a generic unit <I>G</I>, and the 
<SPAN Class="swiss"><A HREF="RM-8-5-4.html#S0203">subprogram_renaming_declaration</A></SPAN> 
occurs within the body of a generic unit <I>G</I> or within the body 
of a generic unit declared within the declarative region of the generic 
unit <I>G</I>, then the corresponding parameter or result subtype of 
the formal subprogram of <I>G</I> shall have a <SPAN Class="swiss"><A HREF="RM-3-10.html#S0083">null_exclusion</A></SPAN>;</div>
<div class="paranum"><a name="p4.3">4.3/2</a></div>
<div class="Bulleted">otherwise, the subtype of the corresponding parameter 
or result type of the renamed callable entity shall exclude null. <A NAME="I3809"></A>In 
addition to the places where Legality Rules normally apply (see <A HREF="RM-12-3.html">12.3</A>), 
this rule applies also in the private part of an instance of a generic 
unit.&nbsp;</div>
<div class="paranum"><a name="p5">5/3</a></div>
<div class="Normal">The profile of a renaming-as-body shall conform fully 
to that of the declaration it completes. <A NAME="I3810"></A>If the renaming-as-body 
completes that declaration before the subprogram it declares is frozen, 
the profile shall be mode conformant <A NAME="I3811"></A>with that of 
the renamed callable entity and the subprogram it declares takes its 
convention from the renamed subprogram; otherwise, the profile shall 
be subtype conformant with that of the renamed callable entity and the 
convention of the renamed subprogram shall not be Intrinsic. <A NAME="I3812"></A>A 
renaming-as-body is illegal if the declaration occurs before the subprogram 
whose declaration it completes is frozen, and the renaming renames the 
subprogram itself, through one or more subprogram renaming declarations, 
none of whose subprograms has been frozen.&nbsp;</div>
<div class="paranum"><a name="p5.1">5.1/2</a></div>
<div class="Normal">&nbsp;&nbsp;The <I>callable_entity_</I><SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN> 
of a renaming shall not denote a subprogram that requires overriding 
(see <A HREF="RM-3-9-3.html">3.9.3</A>).&nbsp;</div>
<div class="paranum"><a name="p5.2">5.2/2</a></div>
<div class="Normal">&nbsp;&nbsp;The <I>callable_entity_</I><SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN> 
of a renaming-as-body shall not denote an abstract subprogram.&nbsp;</div>
<div class="paranum"><a name="p6">6</a></div>
<div class="Normal">A <SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN> 
that denotes a formal parameter of the <SPAN Class="swiss"><A HREF="RM-6-1.html#S0164">subprogram_specification</A></SPAN> 
is not allowed within the <I>callable_entity_</I><SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN>. 
</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p7">7</a></div>
<div class="Normal">A renaming-as-declaration declares a new view of 
the renamed entity. The profile of this new view takes its subtypes, 
parameter modes, and calling convention from the original profile of 
the callable entity, while taking the formal parameter <SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN>s 
and <SPAN Class="swiss"><A HREF="RM-3-7.html#S0063">default_expression</A></SPAN>s 
from the profile given in the <SPAN Class="swiss"><A HREF="RM-8-5-4.html#S0203">subprogram_renaming_declaration</A></SPAN>. 
The new view is a function or procedure, never an entry.&nbsp;</div>

<H4 Class="centered">Dynamic Semantics</H4>
<div class="paranum"><a name="p7.1">7.1/1</a></div>
<div class="Normal">&nbsp;&nbsp;For a call to a subprogram whose body is given 
as a renaming-as-body, the execution of the renaming-as-body is equivalent 
to the execution of a <SPAN Class="swiss"><A HREF="RM-6-3.html#S0177">subprogram_body</A></SPAN> 
that simply calls the renamed subprogram with its formal parameters as 
the actual parameters and, if it is a function, returns the value of 
the call.&nbsp;</div>
<div class="paranum"><a name="p8">8/3</a></div>
<div class="Normal">For a call on a renaming of a dispatching subprogram 
that is overridden, if the overriding occurred before the renaming, then 
the body executed is that of the overriding declaration, even if the 
overriding declaration is not visible at the place of the renaming; otherwise, 
the inherited or predefined subprogram is called. A corresponding rule 
applies to a call on a renaming of a predefined equality operator for 
an untagged record type.&nbsp;</div>

<H4 Class="centered">Bounded (Run-Time) Errors</H4>
<div class="paranum"><a name="p8.1">8.1/1</a></div>
<div class="Normal">&nbsp;&nbsp;<A NAME="I3813"></A><A NAME="I3814"></A>If a subprogram 
directly or indirectly renames itself, then it is a bounded error to 
call that subprogram. Possible consequences are that Program_Error or 
Storage_Error is raised, or that the call results in infinite recursion. 
</div>
<div class="NotesHeader">NOTES</div>
<div class="paranum"><a name="p9">9</a></div>
<div class="Notes">12&nbsp;&nbsp;A procedure can only be renamed as a 
procedure. A function whose <SPAN Class="swiss"><A HREF="RM-6-1.html#S0168">defining_designator</A></SPAN> 
is either an <SPAN Class="swiss"><A HREF="RM-2-3.html#S0002">identifier</A></SPAN> 
or an <SPAN Class="swiss"><A HREF="RM-6-1.html#S0170">operator_symbol</A></SPAN> 
can be renamed with either an <SPAN Class="swiss"><A HREF="RM-2-3.html#S0002">identifier</A></SPAN> 
or an <SPAN Class="swiss"><A HREF="RM-6-1.html#S0170">operator_symbol</A></SPAN>; 
for renaming as an operator, the subprogram specification given in the 
<SPAN Class="swiss"><A HREF="RM-8-5.html#S0199">renaming_declaration</A></SPAN> 
is subject to the rules given in <A HREF="RM-6-6.html">6.6</A> for operator 
declarations. Enumeration literals can be renamed as functions; similarly, 
<SPAN Class="swiss"><A HREF="RM-4-1-4.html#S0100">attribute_reference</A></SPAN>s 
that denote functions (such as references to Succ and Pred) can be renamed 
as functions. An entry can only be renamed as a procedure; the new <SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN> 
is only allowed to appear in contexts that allow a procedure <SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN>. 
An entry of a family can be renamed, but an entry family cannot be renamed 
as a whole.</div>
<div class="paranum"><a name="p10">10</a></div>
<div class="Notes">13&nbsp;&nbsp;The operators of the root numeric types 
cannot be renamed because the types in the profile are anonymous, so 
the corresponding specifications cannot be written; the same holds for 
certain attributes, such as Pos.</div>
<div class="paranum"><a name="p11">11</a></div>
<div class="Notes">14&nbsp;&nbsp;Calls with the new <SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN> 
of a renamed entry are <SPAN Class="swiss"><A HREF="RM-6-4.html#S0178">procedure_call_statement</A></SPAN>s 
and are not allowed at places where the syntax requires an <SPAN Class="swiss"><A HREF="RM-9-5-3.html#S0225">entry_call_statement</A></SPAN> 
in <SPAN Class="swiss">conditional_</SPAN> and <SPAN Class="swiss"><A HREF="RM-9-7-2.html#S0237">timed_entry_call</A></SPAN>s, 
nor in an <SPAN Class="swiss"><A HREF="RM-9-7-4.html#S0241">asynchronous_select</A></SPAN>; 
similarly, the Count attribute is not available for the new <SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN>.</div>
<div class="paranum"><a name="p12">12</a></div>
<div class="Notes">15&nbsp;&nbsp;The primitiveness of a renaming-as-declaration 
is determined by its profile, and by where it occurs, as for any declaration 
of (a view of) a subprogram; primitiveness is not determined by the renamed 
view. In order to perform a dispatching call, the subprogram name has 
to denote a primitive subprogram, not a nonprimitive renaming of a primitive 
subprogram.&nbsp;</div>

<H4 Class="centered">Examples</H4>
<div class="paranum"><a name="p13">13</a></div>
<div class="Normal" style="margin-bottom: 0.4em"><I>Examples of subprogram 
renaming declarations:</I>&nbsp;</div>
<div class="paranum"><a name="p14">14</a></div>
<div class="Examples"><B>procedure</B>&nbsp;My_Write(C&nbsp;:&nbsp;<B>in</B>&nbsp;Character)&nbsp;<B>renames</B>&nbsp;Pool(K).Write;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;see&nbsp;<A HREF="RM-4-1-3.html">4.1.3</A></I></SPAN></div>
<div class="paranum"><a name="p15">15</a></div>
<div class="Examples"><B>function</B>&nbsp;Real_Plus(Left,&nbsp;Right&nbsp;:&nbsp;Real&nbsp;&nbsp;&nbsp;)&nbsp;<B>return</B>&nbsp;Real&nbsp;&nbsp;&nbsp;&nbsp;<B>renames</B>&nbsp;&quot;+&quot;;<BR>
<B>function</B>&nbsp;Int_Plus&nbsp;(Left,&nbsp;Right&nbsp;:&nbsp;Integer)&nbsp;<B>return</B>&nbsp;Integer&nbsp;<B>renames</B>&nbsp;&quot;+&quot;;</div>
<div class="paranum"><a name="p16">16</a></div>
<div class="Examples"><B>function</B>&nbsp;Rouge&nbsp;<B>return</B>&nbsp;Color&nbsp;<B>renames</B>&nbsp;Red;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;see&nbsp;<A HREF="RM-3-5-1.html">3.5.1</A></I></SPAN><BR>
<B>function</B>&nbsp;Rot&nbsp;&nbsp;&nbsp;<B>return</B>&nbsp;Color&nbsp;<B>renames</B>&nbsp;Red;<BR>
<B>function</B>&nbsp;Rosso&nbsp;<B>return</B>&nbsp;Color&nbsp;<B>renames</B>&nbsp;Rouge;</div>
<div class="paranum"><a name="p17">17</a></div>
<div class="Examples"><B>function</B>&nbsp;Next(X&nbsp;:&nbsp;Color)&nbsp;<B>return</B>&nbsp;Color&nbsp;<B>renames</B>&nbsp;Color'Succ;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;<A HREF="RM-3-5-1.html">3.5.1</A></I></SPAN></div>
<div class="paranum"><a name="p18">18</a></div>
<div class="WideAbove" style="margin-bottom: 0.4em"><I>Example of a 
subprogram renaming declaration with new parameter names:</I>&nbsp;</div>
<div class="paranum"><a name="p19">19</a></div>
<div class="Examples"><B>function</B>&nbsp;&quot;*&quot;&nbsp;(X,Y&nbsp;:&nbsp;Vector)&nbsp;<B>return</B>&nbsp;Real&nbsp;<B>renames</B>&nbsp;Dot_Product;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;<A HREF="RM-6-1.html">6.1</A></I></SPAN></div>
<div class="paranum"><a name="p20">20</a></div>
<div class="WideAbove" style="margin-bottom: 0.4em"><I>Example of a 
subprogram renaming declaration with a new default expression:</I>&nbsp;</div>
<div class="paranum"><a name="p21">21</a></div>
<div class="Examples"><B>function</B>&nbsp;Minimum(L&nbsp;:&nbsp;Link&nbsp;:=&nbsp;Head)&nbsp;<B>return</B>&nbsp;Cell&nbsp;<B>renames</B>&nbsp;Min_Cell;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;<A HREF="RM-6-1.html">6.1</A></I></SPAN></div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-8-5-3.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-8-5-5.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
